import{a as M,b as y,c as P,d as E,e as h,f as S,g as x,h as q,i as w,j as N}from"./chunk-GKPV4Y2C.js";import{a as I}from"./chunk-GR2HOQFX.js";import{Ba as C,Na as n,Oa as o,Pa as c,Ra as p,Wa as i,Ya as u,Za as m,_a as s,d as O,qb as _,ta as d,xa as v}from"./chunk-6W3H5QY7.js";var g=O(I());var b=class f{constructor(l){this.apiService=l}equivalencia={idAxa:0,nitEdexa:"",idProducto:"",descripcion:"",listaPrecio:"",id:0};guardarEquivalencia(){this.apiService.createEquivalencia(this.equivalencia).subscribe({next:()=>{g.default.fire("\xC9xito","Equivalencia guardada correctamente","success")},error:l=>{g.default.fire("Error","Hubo un problema al guardar","error"),console.error(l)}})}cargarPorPlano(l){let a=l.target,t=a.files[0];if(!t){g.default.fire("Error","Debe seleccionar un archivo.","error");return}let r=new FormData;r.append("archivo",t),this.apiService.cargarEquivalenciasPorPlano(r).subscribe({next:e=>{g.default.fire("\xC9xito",`Se cargaron ${e.cantidad} equivalencias correctamente.`,"success"),a.value=""},error:e=>{g.default.fire("Error","Hubo un problema al subir el archivo.","error"),console.error(e),a.value=""}})}static \u0275fac=function(a){return new(a||f)(v(N))};static \u0275cmp=C({type:f,selectors:[["app-nuevo-item"]],decls:53,vars:5,consts:[[1,"container","mt-4"],[1,"card","shadow-lg","custom-card","border-0","rounded-3"],[1,"card-header","text-center","py-3"],[1,"bi","bi-gear-fill"],[1,"card-body"],[3,"ngSubmit"],[1,"row"],[1,"col-md-6","mb-3"],["for","idAxa",1,"form-label"],["type","number","id","idAxa","name","idAxa","required","",1,"form-control","custom-input",3,"ngModelChange","ngModel"],["for","nitEdexa",1,"form-label"],["type","text","id","nitEdexa","name","nitEdexa","required","",1,"form-control","custom-input",3,"ngModelChange","ngModel"],["for","idProducto",1,"form-label"],["type","text","id","idProducto","name","idProducto","required","",1,"form-control","custom-input",3,"ngModelChange","ngModel"],["for","descripcion",1,"form-label"],["type","text","id","descripcion","name","descripcion","required","",1,"form-control","custom-input",3,"ngModelChange","ngModel"],["for","listaPrecio",1,"form-label"],["type","text","id","listaPrecio","name","listaPrecio","required","",1,"form-control","custom-input",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-success","px-4","py-2","shadow-sm","rounded-pill"],[1,"bi","bi-save"],[1,"my-4"],[1,"text-center"],["data-bs-toggle","modal","data-bs-target","#cargarExcelModal",1,"btn","btn-info"],[1,"bi","bi-upload"],["id","cargarExcelModal","tabindex","-1","aria-labelledby","cargarExcelModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","cargarExcelModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"form-label","fw-bold"],[1,"input-group","mb-3"],["type","file","accept",".xls,.xlsx",1,"form-control","custom-input",3,"change"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"]],template:function(a,t){a&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),c(4,"i",3),i(5," Gesti\xF3n de Equivalencias"),o()(),n(6,"div",4)(7,"form",5),p("ngSubmit",function(){return t.guardarEquivalencia()}),n(8,"div",6)(9,"div",7)(10,"label",8),i(11,"ID AXA:"),o(),n(12,"input",9),s("ngModelChange",function(e){return m(t.equivalencia.idAxa,e)||(t.equivalencia.idAxa=e),e}),o()(),n(13,"div",7)(14,"label",10),i(15,"NIT Edexa:"),o(),n(16,"input",11),s("ngModelChange",function(e){return m(t.equivalencia.nitEdexa,e)||(t.equivalencia.nitEdexa=e),e}),o()(),n(17,"div",7)(18,"label",12),i(19,"ID Producto:"),o(),n(20,"input",13),s("ngModelChange",function(e){return m(t.equivalencia.idProducto,e)||(t.equivalencia.idProducto=e),e}),o()(),n(21,"div",7)(22,"label",14),i(23,"Descripci\xF3n:"),o(),n(24,"input",15),s("ngModelChange",function(e){return m(t.equivalencia.descripcion,e)||(t.equivalencia.descripcion=e),e}),o()(),n(25,"div",7)(26,"label",16),i(27,"Lista Precio:"),o(),n(28,"input",17),s("ngModelChange",function(e){return m(t.equivalencia.listaPrecio,e)||(t.equivalencia.listaPrecio=e),e}),o()()(),n(29,"div",18)(30,"button",19),c(31,"i",20),i(32," Guardar Equivalencia "),o()()(),c(33,"hr",21),n(34,"div",22)(35,"button",23),c(36,"i",24),i(37," Cargar Excel "),o()()()()(),n(38,"div",25)(39,"div",26)(40,"div",27)(41,"div",28)(42,"h5",29),i(43,"Cargar por plano (Excel)"),o(),c(44,"button",30),o(),n(45,"div",31)(46,"label",32),i(47,"Seleccione un archivo Excel:"),o(),n(48,"div",33)(49,"input",34),p("change",function(e){return t.cargarPorPlano(e)}),o()()(),n(50,"div",35)(51,"button",36),i(52,"Cerrar"),o()()()()()),a&2&&(d(12),u("ngModel",t.equivalencia.idAxa),d(4),u("ngModel",t.equivalencia.nitEdexa),d(4),u("ngModel",t.equivalencia.idProducto),d(4),u("ngModel",t.equivalencia.descripcion),d(4),u("ngModel",t.equivalencia.listaPrecio))},dependencies:[_,w,S,M,x,y,P,q,h,E],styles:[".custom-card[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:1rem}.card-header[_ngcontent-%COMP%]{background-color:#343a40;color:#fff;font-weight:700;text-transform:uppercase;border-top-left-radius:1rem;border-top-right-radius:1rem}.custom-input[_ngcontent-%COMP%]{border-radius:.5rem}.btn-success[_ngcontent-%COMP%]{background-color:#288c00;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#17c814;border-color:#17c814}.btn-info[_ngcontent-%COMP%]{background-color:#17a2b8;border-color:#17a2b8}.btn-info[_ngcontent-%COMP%]:hover{background-color:#17a589;border-color:#17a589}.modal-content[_ngcontent-%COMP%]{border-radius:1rem}.modal-header[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.modal-body[_ngcontent-%COMP%]{background-color:#f0f8ff}.modal-footer[_ngcontent-%COMP%]{border-top:1px solid #28a745}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#af1c1c;border-color:#af1c1c}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;border-color:#004085}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:.5rem}"]})};export{b as default};
